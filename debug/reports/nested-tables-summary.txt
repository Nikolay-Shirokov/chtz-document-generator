╔════════════════════════════════════════════════════════════════════════════════╗
║                    АНАЛИЗ ВЛОЖЕННЫХ ТАБЛИЦ В ДОКУМЕНТЕ                         ║
║     Очередь1_Реализация_изменений_функционала_МЧД_минимум_1.docx              ║
╚════════════════════════════════════════════════════════════════════════════════╝

┌─ СТАТИСТИКА ────────────────────────────────────────────────────────────────┐
│                                                                              │
│  Всего таблиц в документе:          9                                       │
│  Таблиц верхнего уровня:            7                                       │
│  Вложенных таблиц:                  2                                       │
│  Таблиц, содержащих вложенные:      2                                       │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘


┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃  ВЛОЖЕННАЯ ТАБЛИЦА #1                                                       ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

  📍 Расположение:
     └─ Основная таблица #2
        └─ "Условия определения общего результата проверки МЧД контрагента"
           └─ Ячейка "Сценарий" (строка 3)

  📋 Структура:
     • 4 строки × 2 столбца
     • Заголовки: "Общий результат проверки МЧД" | "Условия для определения"

  📄 Содержимое:
     ┌─────────────────────────────────┬────────────────────────────────────┐
     │ Общий результат проверки МЧД    │ Условия для определения результата │
     ├─────────────────────────────────┼────────────────────────────────────┤
     │ ❌ Обнаружены ошибки            │ Условия неудачной проверки         │
     │ ⚠️  Проверка пройдена частично  │ Условия частичного успеха          │
     │ ✅ Проверка пройдена успешно    │ Условия успешной проверки          │
     └─────────────────────────────────┴────────────────────────────────────┘

  🎯 Назначение:
     Определяет условия проверки МЧД контрагента ПРИ ПОЛУЧЕНИИ ЭД


┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃  ВЛОЖЕННАЯ ТАБЛИЦА #2                                                       ┃
┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

  📍 Расположение:
     └─ Основная таблица #7
        └─ "Условия определения общего результата проверки МЧД подписанта в СТИУМ"
           └─ Ячейка "Сценарий" (строка 3)

  📋 Структура:
     • 4 строки × 2 столбца
     • Заголовки: "Общий результат проверки МЧД" | "Условия для определения"

  📄 Содержимое:
     ┌─────────────────────────────────┬────────────────────────────────────┐
     │ Общий результат проверки МЧД    │ Условия для определения результата │
     ├─────────────────────────────────┼────────────────────────────────────┤
     │ ❌ Обнаружены ошибки            │ Условия неудачной проверки         │
     │ ⚠️  Проверка пройдена частично  │ Условия частичного успеха          │
     │ ✅ Проверка пройдена успешно    │ Условия успешной проверки          │
     └─────────────────────────────────┴────────────────────────────────────┘

  🎯 Назначение:
     Определяет условия проверки МЧД подписанта в СТИУМ ПРИ ПОДПИСАНИИ ЭД


┌─ КЛЮЧЕВЫЕ ОТЛИЧИЯ ──────────────────────────────────────────────────────────┐
│                                                                              │
│  ТАБЛИЦА #1                          │  ТАБЛИЦА #2                          │
│  ────────────────────────────────────┼──────────────────────────────────────│
│  Проверка МЧД КОНТРАГЕНТА            │  Проверка МЧД ПОДПИСАНТА В СТИУМ     │
│  При ПОЛУЧЕНИИ ЭД                    │  При ПОДПИСАНИИ ЭД                   │
│  Справочник: "(При получении)..."    │  Справочник: "(При подписании)..."   │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘


╔════════════════════════════════════════════════════════════════════════════════╗
║  ⚠️  КРИТИЧЕСКАЯ ПРОБЛЕМА                                                      ║
╚════════════════════════════════════════════════════════════════════════════════╝

  ❌ Вложенные таблицы НЕ СКОНВЕРТИРОВАНЫ в текущем MD файле!

  В файле: tests/test1-original/Очередь1_...МЧД_минимум_1.md

  Таблица 2 (строки 46-52):
    :::function-table
    scenario: |
      1. Условия определения общего результата проверки МЧД контрагента
         (при получении).
    :::
    [Вложенная таблица ОТСУТСТВУЕТ!]

  Таблица 8 (строки 145-151):
    :::function-table
    scenario: |
      1. Условия определения общего результата проверки МЧД подписанта
         в СТИУМ (при подписании).
    :::
    [Вложенная таблица ОТСУТСТВУЕТ!]

  💥 ПОСЛЕДСТВИЯ:
     • Потеря критически важной информации
     • Невозможность восстановить исходную структуру DOCX
     • Неполное описание логики проверки МЧД


╔════════════════════════════════════════════════════════════════════════════════╗
║  🔧 ТРЕБУЕМЫЕ ДОРАБОТКИ                                                        ║
╚════════════════════════════════════════════════════════════════════════════════╝

  1️⃣  ОБРАТНЫЙ КОНВЕРТЕР (DOCX → Markdown)
      ✓ Обнаружение вложенных таблиц (w:tbl внутри w:tc)
      ✓ Сохранение в специальном формате Markdown
      ✓ Сохранение контекста (текст перед таблицей)

  2️⃣  ПРЯМОЙ КОНВЕРТЕР (Markdown → DOCX)
      ✓ Распознавание вложенных таблиц в Markdown
      ✓ Создание XML структуры с w:tbl внутри w:tc
      ✓ Корректное размещение текста и таблицы в ячейке


╔════════════════════════════════════════════════════════════════════════════════╗
║  📁 СОЗДАННЫЕ ФАЙЛЫ                                                            ║
╚════════════════════════════════════════════════════════════════════════════════╝

  📄 nested-tables-report.md
     └─ Полный отчет с примерами и рекомендациями (303 строки)

  📄 nested-tables-summary.txt
     └─ Краткая сводка (этот файл)

  🔧 find-nested-tables.js
     └─ Скрипт для быстрого обзора вложенных таблиц

  🔧 analyze-nested-tables-detailed.js
     └─ Скрипт для детального анализа с полным содержимым


╔════════════════════════════════════════════════════════════════════════════════╗
║  ✅ ВЫВОДЫ                                                                     ║
╚════════════════════════════════════════════════════════════════════════════════╝

  ✓ Найдено 2 вложенные таблицы с критически важной информацией
  ✓ Обе таблицы имеют идентичную структуру (4×2)
  ✓ Таблицы описывают логику проверки МЧД для разных сценариев
  ✓ Текущий конвертер не обрабатывает вложенные таблицы
  ✓ Необходима доработка для поддержки вложенных таблиц
  ✓ Предложены 4 варианта представления в Markdown

═════════════════════════════════════════════════════════════════════════════════
